<div fxLayout="column" class="container">
  <mat-toolbar color="primary">
    Conent: {{type?.name}}
    <span fxFlex></span>
    <button *ngIf="editGrid" mat-button class="icon" (click)="onReleaseContent()" fxLayout="column" fxLayoutAlign="center end">
      <mat-icon>add</mat-icon>
      Add widget
    </button>
    <button mat-button class="icon" (click)="editGrid = !editGrid" fxLayout="column" fxLayoutAlign="center end">
      <mat-icon>edit</mat-icon>
      Edit Grid
    </button>
    <button *ngIf="!editGrid" mat-button class="icon" (click)="onSaveContent()" fxLayout="column" fxLayoutAlign="center end">
      <mat-icon>save</mat-icon>
      Save {{type?.name}}
    </button>
    <button *ngIf="!editGrid" mat-button class="icon" (click)="onReleaseContent()" fxLayout="column" fxLayoutAlign="center end">
      <mat-icon>check</mat-icon>
      Release {{type?.name}}
    </button>

  </mat-toolbar>
  <mat-tab-group fxFlex>
    <mat-tab *ngFor="let group of groups" [label]="group.name" fxFlex fxLayout="column" fxLayoutAlign="space-between stretch">
      <div class="tab-content" fxLayout="column" fxLayoutAlign="stretch">
        <ngx-widget-grid [rows]="4" [columns]="5" [highlightNextPosition]="false" [showGrid]="editGrid">
          <ngx-widget [movable]="editGrid" [resizable]="editGrid" [position]="widget">
            <div style="height:100%;width:100%; display:flex;">
              <div fxFlex fxLayout="column">
                <app-widget-factory [type]="type" [widget]="widget"></app-widget-factory>
              </div>
            </div>
          </ngx-widget>
        </ngx-widget-grid>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>